@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/*
 * FutbolStats Ops Dashboard - Design Tokens
 * Based on UniFi Network Dashboard aesthetic
 * SSOT: dashboard/DASHBOARD_PRO_BY_DAVID.md Section 4
 */

@theme inline {
  /* Typography - Inter from @fontsource/inter (offline-friendly) */
  --font-sans: "Inter", ui-sans-serif, system-ui, sans-serif;
  --font-condensed: "Barlow Condensed", ui-sans-serif, system-ui, sans-serif;

  /* Colors mapped to semantic tokens */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-hover: var(--primary-hover);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  /* Semantic status colors */
  --color-success: var(--success);
  --color-warning: var(--warning);
  --color-error: var(--error);
  --color-info: var(--info);

  /* Surface layers */
  --color-surface: var(--surface);
  --color-surface-elevated: var(--surface-elevated);
  --color-tile: var(--tile-bg);

  /* Sidebar */
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  /* Chart colors */
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);

  /* ADS: tooltip bg mapped for Tailwind (bg-tooltip) */
  --color-tooltip: var(--tooltip-bg);

  /* Border radius - flat design, minimal rounding */
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;
  --radius-2xl: 1rem;
  --radius-full: 9999px;
}

/*
 * Dark theme ONLY - UniFi-inspired palette
 * Aligned with UniFi drawer/surfaces reference
 * No light theme needed for ops dashboard
 */
:root {
  /* Base backgrounds - UniFi drawer palette */
  --background: #131416;
  --surface: #1c1e21;
  --surface-elevated: #232326;
  --tile-bg: transparent; /* Overview tiles - no background */

  /* Foreground/text - UniFi typography */
  --foreground: #dee0e3;
  --muted-foreground: #b7bcc2;

  /* Cards and popovers */
  --card: #1c1e21;
  --card-foreground: #dee0e3;
  --popover: #232326;
  --popover-foreground: #dee0e3;

  /* Primary - accent blue (UniFi) */
  --primary: #4797FF;
  --primary-hover: #71B7FF;
  --primary-foreground: #ffffff;

  /* Secondary - muted */
  --secondary: #232326;
  --secondary-foreground: #dee0e3;

  /* Muted - consistent with surface */
  --muted: #1c1e21;

  /* Accent - selected tab / selected state bg */
  --accent: #282b2f;
  --accent-foreground: #dee0e3;

  /* Status colors - UniFi aligned */
  --success: #37be5f;
  --warning: #eab308;
  --error: #ef4444;
  --info: #06b6d4;
  --destructive: #ef4444;

  /* Borders - UniFi subtle lines */
  --border: rgba(249, 250, 250, 0.07);
  --input: rgba(249, 250, 250, 0.10);
  --ring: #4797FF;

  /* Sidebar - same as background for unified rails */
  --sidebar: #131416;
  --sidebar-foreground: #dee0e3;
  --sidebar-primary: #4797FF;
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: transparent;
  --sidebar-accent-foreground: #dee0e3;
  --sidebar-border: rgba(249, 250, 250, 0.07);
  --sidebar-ring: #4797FF;

  /* Charts */
  --chart-1: #4797FF;
  --chart-2: #37be5f;
  --chart-3: #eab308;
  --chart-4: #ef4444;
  --chart-5: #06b6d4;

  /* ADS tokens (P0) */
  --tooltip-bg: #232326;
  --row-selected: #05254d;
  --progress-track: #282b2f;
  --shadow-drawer-left: -4px 0 48px rgba(0, 0, 0, 1),
    0 0 1px rgba(249, 250, 250, 0.08);
  --shadow-tooltip: 0 8px 24px rgba(0, 0, 0, 1),
    0 0 1px rgba(249, 250, 250, 0.08);

  /* ADS tokens (P1) — status 3-channel */
  --status-success-text: #37be5f;
  --status-success-bg: rgba(55, 190, 95, 0.15);
  --status-success-border: rgba(55, 190, 95, 0.30);

  --status-warning-text: #eab308;
  --status-warning-bg: rgba(234, 179, 8, 0.15);
  --status-warning-border: rgba(234, 179, 8, 0.30);

  --status-error-text: #ef4444;
  --status-error-bg: rgba(239, 68, 68, 0.15);
  --status-error-border: rgba(239, 68, 68, 0.30);

  --status-info-text: #06b6d4;
  --status-info-bg: rgba(6, 182, 212, 0.15);
  --status-info-border: rgba(6, 182, 212, 0.30);

  /* ADS tokens (P2) — tag/identifier 3-channel */
  --tag-purple-text: #a78bfa;
  --tag-purple-bg: rgba(167, 139, 250, 0.15);
  --tag-purple-border: rgba(167, 139, 250, 0.30);

  --tag-cyan-text: #22d3ee;
  --tag-cyan-bg: rgba(34, 211, 238, 0.15);
  --tag-cyan-border: rgba(34, 211, 238, 0.30);

  --tag-pink-text: #f472b6;
  --tag-pink-bg: rgba(244, 114, 182, 0.15);
  --tag-pink-border: rgba(244, 114, 182, 0.30);

  --tag-indigo-text: #818cf8;
  --tag-indigo-bg: rgba(129, 140, 248, 0.15);
  --tag-indigo-border: rgba(129, 140, 248, 0.30);

  --tag-blue-text: #60a5fa;
  --tag-blue-bg: rgba(96, 165, 250, 0.15);
  --tag-blue-border: rgba(96, 165, 250, 0.30);

  --tag-orange-text: #fb923c;
  --tag-orange-bg: rgba(251, 146, 60, 0.15);
  --tag-orange-border: rgba(251, 146, 60, 0.30);

  --tag-gray-text: #9ca3af;
  --tag-gray-bg: rgba(156, 163, 175, 0.15);
  --tag-gray-border: rgba(156, 163, 175, 0.30);

  /* Radius */
  --radius: 0.5rem;
}

/* Dark class for compatibility */
.dark {
  color-scheme: dark;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Focus states - visible for a11y */
  :focus-visible {
    @apply outline-2 outline-offset-2 outline-ring;
  }

  /* UniFi-style thin scrollbar (8px variant for tables) */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-thumb {
    background-color: rgba(183, 188, 194, 0.25);
    background-clip: padding-box;
    border: 3px solid transparent;
    border-radius: 6px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-corner {
    background-color: transparent;
  }

  /* Firefox - solo estilos de scroll, sin gutter global */
  * {
    scrollbar-width: thin;
    scrollbar-color: rgba(183, 188, 194, 0.25) transparent;
  }
}

@layer utilities {
  /* High-density padding utility */
  .p-dense {
    padding: 8px 12px;
  }

  /* No shadows utility (UniFi flat design) */
  .shadow-none {
    box-shadow: none !important;
  }

  /* Transition utility matching spec (150-200ms) */
  .transition-smooth {
    transition: all 150ms ease-in-out;
  }

  /* UniFi-style shadow for elevated surfaces (TopBar, Drawer, Footers) */
  .shadow-elevation-down {
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.28);
  }
  .shadow-elevation-up {
    box-shadow: 0 -8px 16px rgba(0, 0, 0, 0.28);
  }
  .shadow-elevation-left {
    box-shadow: -8px 0 16px rgba(0, 0, 0, 0.28);
  }
  .shadow-elevation-right {
    box-shadow: 8px 0 16px rgba(0, 0, 0, 0.28);
  }

  /* ADS: drawer & tooltip shadows (P0) */
  .shadow-drawer-left {
    box-shadow: var(--shadow-drawer-left);
  }
  .shadow-tooltip {
    box-shadow: var(--shadow-tooltip);
  }
}

/* Three-dot bounce loader */
.loader {
  aspect-ratio: 1;
  border-radius: 50%;
  animation: loader-bounce 1s infinite linear alternate;
}

@keyframes loader-bounce {
  0% {
    box-shadow: 20px 0 #b7bcc2, -20px 0 rgba(183, 188, 194, 0.2);
    background: #b7bcc2;
  }
  33% {
    box-shadow: 20px 0 #b7bcc2, -20px 0 rgba(183, 188, 194, 0.2);
    background: rgba(183, 188, 194, 0.2);
  }
  66% {
    box-shadow: 20px 0 rgba(183, 188, 194, 0.2), -20px 0 #b7bcc2;
    background: rgba(183, 188, 194, 0.2);
  }
  100% {
    box-shadow: 20px 0 rgba(183, 188, 194, 0.2), -20px 0 #b7bcc2;
    background: #b7bcc2;
  }
}
